<% layout('/layouts/boilerplate')%>


    <link href="/css/index.css" rel="stylesheet" type="text/css" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css"
    />

  <body>
    <header>
    
    <main>
      <section id="welcome">
        <h2>Welcome to MailMetrics</h2>
        <p style="font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;">
          Optimize your email campaigns using A/B testing! Our platform helps
          you increase open rates, click-through rates, and overall engagement.
        </p>
      </section>

      <section id="quick-actions">
        <h2>Quick Actions</h2>
        <div class="actions">
          <div class="action-item">
            <a href="MailMetrics/email">
              <h3>Create New Campaign</h3>
              <p>Start a new email campaign and test different variants.</p>
            </a>
          </div>
          <div class="action-item">
            <a href="MailMetrics/email">
              <h3>Manage Templates</h3>
              <p>View and edit your email templates.</p>
            </a>
          </div>
          <div class="action-item">
            <a href="MailMetrics/subscribers">
              <h3>Manage Subscribers</h3>
              <p>View and manage your subscriber list.</p>
            </a>
          </div>
          <div class="action-item">
            <a href="MailMetrics/campaigns">
              <h3>View Dashboard</h3>
              <p>See the performance of your campaigns.</p>
            </a>
          </div>
        </div>
      </section>

      <section id="recent-campaigns">
        <h2>Recent Campaigns</h2>
       
        <div class="slider" id="campaign-slider">
            <% for(let i = allCampaigns.length - 1; i >= 0 &&  i>=allCampaigns.length - 10; i--) { %>
            <a href="/MailMetrics/campaigns/analyse/<%= allCampaigns[i]._id%>">
                <div class="template-item">
                    <% if(allCampaigns[i].emailId.length <=15){ %>
                        <h3><%= allCampaigns[i].emailId.emailId.title %></h3>
                    <% } else { %>
                        <h3><% for(let j=0;j<15;j++){%><%=allCampaigns[i].emailId.title[j]%><%}%>...</h3>
                    <% } %>
                    <% if(allCampaigns[i].emailId.subject.length <=27){ %>
                        <p><%= allCampaigns[i].emailId.subject %></p>
                    <% } else { %>
                        <p><% for(let j=0;j<27;j++){%><%=allCampaigns[i].emailId.subject[j]%><%}%>...</p>
                    <% } %>
                </div>
            </a>
            <% } %>
         </div>
      </section>

      <section id="recent-templates">
        <h2>Recent Templates</h2>
        <div class="slider" id="template-slider">
            <% for(let i = allemail.length - 1; i >= 0 &&  i>=allemail.length - 10; i--) { %>
                <a href="/MailMetrics/<%= allemail[i]._id%>">
                    <div class="template-item">
                        <% if(allemail[i].title.length <=15){ %>
                            <h3><%= allemail[i].title %></h3>
                        <% } else { %>
                            <h3><% for(let j=0;j<15;j++){%><%=allemail[i].title[j]%><%}%>...</h3>
                        <% } %>
                        <% if(allemail[i].subject.length <=27){ %>
                            <p><%= allemail[i].subject %></p>
                        <% } else { %>
                            <p><% for(let j=0;j<27;j++){%><%=allemail[i].subject[j]%><%}%>...</p>
                        <% } %>
                        
                    </div>
                </a>
            <% } %>
        </div>
      </section>
    </main>
    
    <script>
      $(document).ready(function () {
        $("#campaign-slider").slick({
          dots: true,
          infinite: true,
          speed: 300,
          slidesToShow: 3,
          slidesToScroll: 1,
          responsive: [
            {
              breakpoint: 1024,
              settings: {
                slidesToShow: 2,
                slidesToScroll: 1,
                infinite: true,
                dots: true,
              },
            },
            {
              breakpoint: 600,
              settings: {
                slidesToShow: 1,
                slidesToScroll: 1,
              },
            },
          ],
        });

        $("#template-slider").slick({
          dots: true,
          infinite: true,
          speed: 300,
          slidesToShow: 3,
          slidesToScroll: 1,
          responsive: [
            {
              breakpoint: 1024,
              settings: {
                slidesToShow: 2,
                slidesToScroll: 1,
                infinite: true,
                dots: true,
              },
            },
            {
              breakpoint: 600,
              settings: {
                slidesToShow: 1,
                slidesToScroll: 1,
              },
            },
          ],
        });
      });
    </script>
  </body>

  <script>
    $(document).ready(function () {
      // Initialize Slick carousel for recent campaigns slider
      $("#campaign-slider").slick({
        dots: true,
        infinite: true,
        speed: 300,
        slidesToShow: 3,
        slidesToScroll: 1,
        responsive: [
          {
            breakpoint: 1024,
            settings: {
              slidesToShow: 2,
              slidesToScroll: 1,
              infinite: true,
              dots: true,
            },
          },
          {
            breakpoint: 600,
            settings: {
              slidesToShow: 1,
              slidesToScroll: 1,
            },
          },
        ],
      });

      // Pause sliding on mouse enter and resume on mouse leave for recent campaigns slider
      $("#campaign-slider").on("mouseenter", function () {
        $(this).slick("slickPause");
      });

      $("#campaign-slider").on("mouseleave", function () {
        $(this).slick("slickPlay");
      });

      // Initialize Slick carousel for recent templates slider
      $("#template-slider").slick({
        dots: true,
        infinite: true,
        speed: 300,
        slidesToShow: 3,
        slidesToScroll: 1,
        responsive: [
          {
            breakpoint: 1024,
            settings: {
              slidesToShow: 2,
              slidesToScroll: 1,
              infinite: true,
              dots: true,
            },
          },
          {
            breakpoint: 600,
            settings: {
              slidesToShow: 1,
              slidesToScroll: 1,
            },
          },
        ],
      });

      // Pause sliding on mouse enter and resume on mouse leave for recent templates slider
      $("#template-slider").on("mouseenter", function () {
        $(this).slick("slickPause");
      });

      $("#template-slider").on("mouseleave", function () {
        $(this).slick("slickPlay");
      });
    });
  </script>
</html>
